using UnityEngine;
using DG.Tweening;


public class Materials : MonoBehaviour
{
    public GameObject target;
    public Color      toColor;



    private Tween colorTween;
    private Tween emissionTween;
    private Tween offsetTween;



    public void ToggleColor()
    {
        this.colorTween.TogglePause();

    }   // ToggleColor()


    public void ToggleEmission()
    {
        this.emissionTween.TogglePause();

    }   // ToggleEmission()


    public void ToggleOffset()
    {
        this.offsetTween.TogglePause();

    }    // ToggleOffset()



    private void Start()
    {
        // NOTE:  all Tweens are created in a paused state so they can be toggled via the UI.

        // Store the material.
        Material mat = this.target.GetComponent<Renderer>().material;

        // COLOR
        this.colorTween    = mat.DOColor(this.toColor, 1)
                                .SetLoops(-1, LoopType.Yoyo)
                                .Pause()
                                ;

        // EMISSION
        // Note that the float value in the Unity inspector (next to the emission's color) doesn't exist
        // in the shader (it is generated by the Unity inspector and applied to the material color), so
        // you have to Tween the full _EmissionColor.
        this.emissionTween = mat.DOColor(new Color(0, 0, 0, 0), "_EmissionColor", 1)
                                .SetLoops(-1, LoopType.Yoyo)
                                .Pause()
                                ;

        // OFFSET
        // Set the loop to Incremental and the ease to Linear.
        this.offsetTween   = mat.DOOffset(new Vector2(1, 1), 1)
                                .SetEase(Ease.Linear)
                                .SetLoops(-1, LoopType.Incremental)
                                .Pause()
                                ;

    }    // Start()


}   // class Materials
